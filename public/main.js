const a0_0x3883d6=a0_0x1ea6;(function(_0x511fd3,_0x151cf2){const _0xbd9158=a0_0x1ea6,_0x2ed5dc=_0x511fd3();while(!![]){try{const _0x9cd65d=parseInt(_0xbd9158(0x1ae))/0x1+parseInt(_0xbd9158(0x19b))/0x2+parseInt(_0xbd9158(0x1b4))/0x3+parseInt(_0xbd9158(0x197))/0x4+parseInt(_0xbd9158(0x175))/0x5+-parseInt(_0xbd9158(0x155))/0x6+parseInt(_0xbd9158(0x152))/0x7*(-parseInt(_0xbd9158(0x1bb))/0x8);if(_0x9cd65d===_0x151cf2)break;else _0x2ed5dc['push'](_0x2ed5dc['shift']());}catch(_0x10db71){_0x2ed5dc['push'](_0x2ed5dc['shift']());}}}(a0_0x31f7,0x1ab06));async function sendLog(_0x1c7409,_0x41eac1,_0x41351c){const _0x4e21e5=a0_0x1ea6,_0x4edec6=getCsrfToken();try{const _0x544ad5=await fetch(_0x4e21e5(0x1a0),{'method':_0x4e21e5(0x18b),'headers':{'Content-Type':_0x4e21e5(0x1a7),'CSRF-Token':_0x4edec6},'body':JSON['stringify']({'type':_0x1c7409,'email':_0x41eac1,'message':_0x41351c,'timestamp':new Date()['toISOString']()})});if(!_0x544ad5['ok']){if(_0x544ad5[_0x4e21e5(0x154)]===0x193)throw new Error(_0x4e21e5(0x199));else throw new Error('Failed\x20to\x20send\x20log');}console[_0x4e21e5(0x153)]('Log\x20sent\x20successfully');}catch(_0x466bf2){handleError('Error\x20sending\x20log',_0x466bf2,_0x41eac1);}finally{console[_0x4e21e5(0x1a8)](_0x4e21e5(0x1ad));}}async function sendErrorLog(_0x1fdf11,_0x197c52){const _0x2b5a76=a0_0x1ea6,_0x103eb3=getCsrfToken();try{const _0x22c662=await fetch(_0x2b5a76(0x191),{'method':_0x2b5a76(0x18b),'headers':{'Content-Type':_0x2b5a76(0x1a7),'CSRF-Token':_0x103eb3},'body':JSON[_0x2b5a76(0x168)]({'type':'error','email':_0x1fdf11,'message':''+_0x197c52,'timestamp':new Date()[_0x2b5a76(0x159)]()})});if(!_0x22c662['ok']){if(_0x22c662['status']===0x193)throw new Error(_0x2b5a76(0x199));else throw new Error(_0x2b5a76(0x1bd));}console[_0x2b5a76(0x153)](_0x2b5a76(0x18f));}catch(_0x37360d){console[_0x2b5a76(0x173)]('Error\x20sending\x20error\x20log:',_0x37360d);}finally{console[_0x2b5a76(0x1a8)]('Completed\x20error\x20log\x20operation');}}function logAuthenticationAction(_0x53a606,_0x357a66){const _0x6daa37=a0_0x1ea6;console[_0x6daa37(0x1a8)](_0x6daa37(0x17a)+_0x53a606+':\x20'+_0x357a66),sendLog('authentication',_0x53a606,_0x6daa37(0x151)+_0x357a66);}function logTransactionAction(_0x24cd81,_0x157935){const _0x3a7497=a0_0x1ea6;console['log'](_0x3a7497(0x18a)+_0x24cd81+':\x20'+_0x157935),sendLog(_0x3a7497(0x185),_0x24cd81,_0x3a7497(0x16a)+_0x157935);}function logAdminAction(_0x4a3bdf,_0x127d41){const _0x55b3c9=a0_0x1ea6;console[_0x55b3c9(0x1a8)]('Logging\x20admin\x20action\x20for\x20'+_0x4a3bdf+':\x20'+_0x127d41),sendLog(_0x55b3c9(0x19c),_0x4a3bdf,'Admin\x20performed\x20action:\x20'+_0x127d41);}function a0_0x31f7(){const _0x3fe5c4=['change','Failed\x20to\x20send\x20error\x20log','Error\x20sending\x20signup\x20request','.btnSign-up','phone-error','reload','/login','User\x20signed\x20up\x20successfully','CSRF-TOKEN=','An\x20error\x20occurred\x20during\x20signup.','currentUserEmail','substring','getElementById','files','User\x20performed\x20authentication\x20action:\x20','14WfXCjW','info','status','20640iQcsaW','target','/signup','preventDefault','toISOString','Invalid\x20CSRF\x20token\x20during\x20login','Signup\x20error','invalid\x20csrf\x20token','Unknown\x20error','emailsignup','length','img-error','Error\x20during\x20login\x20form\x20submission','phone','roles','classList','submit','message','Please\x20enter\x20a\x20valid\x20phone\x20number.','stringify','Login\x20error:\x20','User\x20performed\x20transaction\x20action:\x20','User\x20clicked\x20Sign\x20Up','form_login','Please\x20enter\x20both\x20email\x20and\x20password','setItem','.container','add','active','parse','error','finally','522595IneYHZ','An\x20error\x20occurred.\x20Please\x20try\x20again.','email-error','send','test','Logging\x20authentication\x20action\x20for\x20','Passwords\x20do\x20not\x20match.','split','trim','Invalid\x20file\x20type.\x20Only\x20JPEG/PNG\x20images\x20allowed.','admin.html','Invalid\x20CSRF\x20token\x20during\x20signup','Login\x20failed:\x20missing\x20credentials','setRequestHeader','password','addEventListener','transaction','onload','Error\x20parsing\x20login\x20response','Unexpected\x20signup\x20error','email','Logging\x20transaction\x20action\x20for\x20','POST','Valid\x20file\x20uploaded:','User\x20clicked\x20Sign\x20In:','remove','Error\x20log\x20sent\x20successfully','click','/log-error','User\x20logged\x20in\x20successfully','textContent','querySelector','visible','responseText','537240wUeYGB','value','Invalid\x20CSRF\x20token','location','57088EwDthA','admin','Error\x20sending\x20login\x20request','slice','image/jpeg','/log','Invalid\x20file\x20type\x20uploaded','passwordsignup','form_signup','.custom-file-label','CSRF-Token','User\x20logged\x20in\x20with\x20email:','application/json','log','cookie','user.html','User\x20clicked\x20Sign\x20Up:','pass-error','Completed\x20log\x20operation','61801BrMdYQ','href','login-error','Please\x20enter\x20a\x20valid\x20email\x20address.','Error\x20during\x20Sign\x20Up\x20button\x20click','type','101646bNbBEa','Invalid\x20file\x20type\x20uploaded:','Content-Type','Error\x20during\x20Sign\x20In\x20button\x20click','image/png','User\x20performed\x20action:\x20','.btnSign-in','1001192lhVFDo'];a0_0x31f7=function(){return _0x3fe5c4;};return a0_0x31f7();}function logAction(_0x546f29,_0x4fd97a){const _0x2cc2d0=a0_0x1ea6;sendLog('action',_0x546f29,_0x2cc2d0(0x1b9)+_0x4fd97a);}function a0_0x1ea6(_0x6e5a13,_0x1a78b2){const _0x31f701=a0_0x31f7();return a0_0x1ea6=function(_0x1ea6d7,_0x4a645c){_0x1ea6d7=_0x1ea6d7-0x14d;let _0x11b85f=_0x31f701[_0x1ea6d7];return _0x11b85f;},a0_0x1ea6(_0x6e5a13,_0x1a78b2);}function handleError(_0x131914,_0x3332c7,_0x3ea25e){const _0x2b29d0=a0_0x1ea6;console['error'](_0x131914+':\x20'+_0x3332c7[_0x2b29d0(0x166)]),sendErrorLog(_0x3ea25e,_0x131914+':\x20'+_0x3332c7[_0x2b29d0(0x166)])[_0x2b29d0(0x174)](()=>{const _0x298dc6=_0x2b29d0;window[_0x298dc6(0x19a)]['href']='index.html';});}function getCsrfToken(){const _0x4696f1=a0_0x1ea6,_0x2ca242=_0x4696f1(0x1c4),_0x2dda20=decodeURIComponent(document[_0x4696f1(0x1a9)]),_0x1aadce=_0x2dda20[_0x4696f1(0x17c)](';');for(let _0x3e7cfc=0x0;_0x3e7cfc<_0x1aadce[_0x4696f1(0x15f)];_0x3e7cfc++){let _0x1edba1=_0x1aadce[_0x3e7cfc]['trim']();if(_0x1edba1['indexOf'](_0x2ca242)===0x0)return _0x1edba1[_0x4696f1(0x14e)](_0x2ca242['length'],_0x1edba1[_0x4696f1(0x15f)]);}return'';}const container=document[a0_0x3883d6(0x194)](a0_0x3883d6(0x16f)),btnSignIn=document[a0_0x3883d6(0x194)](a0_0x3883d6(0x1ba)),btnSignUp=document['querySelector'](a0_0x3883d6(0x1bf));btnSignIn['addEventListener'](a0_0x3883d6(0x190),()=>{const _0x9e365e=a0_0x3883d6;try{container['classList'][_0x9e365e(0x170)]('active'),console['log'](_0x9e365e(0x18d),currentUserEmail),logAuthenticationAction(currentUserEmail,'User\x20clicked\x20Sign\x20In');}catch(_0xc8c7c2){handleError(_0x9e365e(0x1b7),_0xc8c7c2,currentUserEmail);}}),btnSignUp['addEventListener'](a0_0x3883d6(0x190),()=>{const _0x54a26c=a0_0x3883d6;try{container['classList'][_0x54a26c(0x18e)](_0x54a26c(0x171)),console[_0x54a26c(0x1a8)](_0x54a26c(0x1ab),currentUserEmail),logAuthenticationAction(currentUserEmail,_0x54a26c(0x16b));}catch(_0x21cf18){handleError(_0x54a26c(0x1b2),_0x21cf18,currentUserEmail);}});const imgError=document['getElementById'](a0_0x3883d6(0x160)),fileLabel=document[a0_0x3883d6(0x194)](a0_0x3883d6(0x1a4));document['getElementById']('pfp')[a0_0x3883d6(0x184)](a0_0x3883d6(0x1bc),function(_0x467bf6){const _0x14b6b8=a0_0x3883d6;try{const _0x3df0f4=_0x467bf6[_0x14b6b8(0x156)][_0x14b6b8(0x150)][0x0];if(_0x3df0f4){const _0x4d61bf=_0x3df0f4[_0x14b6b8(0x1b3)];if(_0x4d61bf!==_0x14b6b8(0x19f)&&_0x4d61bf!==_0x14b6b8(0x1b8))imgError['textContent']=_0x14b6b8(0x17e),imgError[_0x14b6b8(0x164)]['add'](_0x14b6b8(0x195)),_0x467bf6[_0x14b6b8(0x156)][_0x14b6b8(0x198)]='',console[_0x14b6b8(0x1a8)](_0x14b6b8(0x1b5),currentUserEmail),logTransactionAction(currentUserEmail,_0x14b6b8(0x1a1));else{imgError[_0x14b6b8(0x193)]='',imgError[_0x14b6b8(0x164)][_0x14b6b8(0x18e)](_0x14b6b8(0x195));const _0x437330=_0x3df0f4['name']||'Choose\x20Profile\x20Photo';fileLabel[_0x14b6b8(0x193)]=_0x437330,console[_0x14b6b8(0x1a8)](_0x14b6b8(0x18c),currentUserEmail),logTransactionAction(currentUserEmail,'Valid\x20file\x20uploaded');}}else fileLabel[_0x14b6b8(0x193)]='Choose\x20Profile\x20Photo';}catch(_0x2336e8){handleError('Error\x20during\x20file\x20selection',_0x2336e8,currentUserEmail);}}),document['getElementById'](a0_0x3883d6(0x1a3))[a0_0x3883d6(0x184)](a0_0x3883d6(0x165),function(_0x3624d9){const _0xebe1a4=a0_0x3883d6;_0x3624d9[_0xebe1a4(0x158)]();try{const _0x2a07dc=document['getElementById'](_0xebe1a4(0x1c0)),_0x519d57=document[_0xebe1a4(0x14f)](_0xebe1a4(0x177)),_0x10b95e=document[_0xebe1a4(0x14f)](_0xebe1a4(0x1ac)),_0x25ffc9=document[_0xebe1a4(0x14f)](_0xebe1a4(0x162))[_0xebe1a4(0x198)],_0x324041=/^\+\d{1,3}\s?\(\d{1,3}\)\s?\d{1,3}-\d{1,4}$/[_0xebe1a4(0x179)](_0x25ffc9),_0x1ec8f2=/^(09|\+639)\d{9}$/[_0xebe1a4(0x179)](_0x25ffc9);!_0x324041&&!_0x1ec8f2?(_0x2a07dc[_0xebe1a4(0x193)]=_0xebe1a4(0x167),_0x2a07dc['classList']['add']('visible')):(_0x2a07dc[_0xebe1a4(0x193)]='',_0x2a07dc['classList'][_0xebe1a4(0x18e)]('visible'));const _0x6ff1c=_0x278f05=>{const _0xeb56d2=_0xebe1a4,_0x935350=_0x278f05['indexOf']('@');if(_0x935350===-0x1)return![];const _0x313c58=_0x278f05[_0xeb56d2(0x19e)](0x0,_0x935350),_0x3b9006=_0x278f05['slice'](_0x935350+0x1);return _0x313c58[_0xeb56d2(0x15f)]<=0x40&&_0x3b9006[_0xeb56d2(0x15f)]<=0xff;},_0xc2fefb=document['getElementById'](_0xebe1a4(0x15e))[_0xebe1a4(0x198)];!_0x6ff1c(_0xc2fefb)?(_0x519d57['textContent']=_0xebe1a4(0x1b1),_0x519d57[_0xebe1a4(0x164)][_0xebe1a4(0x170)](_0xebe1a4(0x195))):(_0x519d57['textContent']='',_0x519d57[_0xebe1a4(0x164)][_0xebe1a4(0x18e)](_0xebe1a4(0x195)));const _0x4c528c=document[_0xebe1a4(0x14f)](_0xebe1a4(0x1a2))['value']['trim'](),_0x236d74=document['getElementById']('confirmpassword')['value'][_0xebe1a4(0x17d)](),_0x2d9478=_0x4c528c===_0x236d74,_0x576264=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[\W]).{12,64}$/;if(!_0x576264[_0xebe1a4(0x179)](_0x4c528c))_0x10b95e[_0xebe1a4(0x193)]='Password\x20must\x20include\x20uppercase,\x20lowercase\x20letters,\x20digits,\x20special\x20characters,\x20and\x20be\x2012-64\x20characters\x20long.',_0x10b95e[_0xebe1a4(0x164)][_0xebe1a4(0x170)]('visible');else!_0x2d9478?(_0x10b95e[_0xebe1a4(0x193)]=_0xebe1a4(0x17b),_0x10b95e[_0xebe1a4(0x164)][_0xebe1a4(0x170)](_0xebe1a4(0x195))):(_0x10b95e[_0xebe1a4(0x193)]='',_0x10b95e[_0xebe1a4(0x164)]['remove']('visible'));const _0x29dc4b=!_0x2a07dc['textContent']&&!_0x519d57[_0xebe1a4(0x193)]&&!_0x10b95e[_0xebe1a4(0x193)];if(_0x29dc4b){const _0x914ecd=new FormData(this),_0xad8a1d=new XMLHttpRequest();_0xad8a1d['open'](_0xebe1a4(0x18b),_0xebe1a4(0x157),!![]),_0xad8a1d['setRequestHeader'](_0xebe1a4(0x1a5),getCsrfToken()),_0xad8a1d[_0xebe1a4(0x186)]=function(){const _0x329583=_0xebe1a4;if(_0xad8a1d[_0x329583(0x154)]===0xc8)alert(_0xad8a1d[_0x329583(0x196)]),currentUserEmail=_0xc2fefb,console[_0x329583(0x1a8)]('User\x20signed\x20up\x20with\x20email:',currentUserEmail),logAuthenticationAction(currentUserEmail,_0x329583(0x1c3)),localStorage[_0x329583(0x16e)](_0x329583(0x14d),currentUserEmail),location[_0x329583(0x1c1)]();else try{if(_0xad8a1d['responseText']['includes'](_0x329583(0x15c)))handleError(_0x329583(0x180),new Error(_0x329583(0x199)),currentUserEmail);else throw new Error(_0x329583(0x188));}catch(_0x477ba5){alert(_0x329583(0x1c5)),logAuthenticationAction(currentUserEmail,_0x329583(0x15b)),handleError('Error\x20during\x20signup',_0x477ba5,currentUserEmail);}};try{_0xad8a1d[_0xebe1a4(0x178)](_0x914ecd);}catch(_0xe92eed){handleError(_0xebe1a4(0x1be),_0xe92eed,currentUserEmail);}}else return logAuthenticationAction(currentUserEmail,'Signup\x20validation\x20failed'),![];}catch(_0x2a0b1e){handleError('Error\x20during\x20signup\x20form\x20submission',_0x2a0b1e,currentUserEmail);}}),document[a0_0x3883d6(0x14f)](a0_0x3883d6(0x16c))[a0_0x3883d6(0x184)]('submit',function(_0x14bf96){const _0x4c6f62=a0_0x3883d6;_0x14bf96[_0x4c6f62(0x158)]();try{const _0x422d93=document[_0x4c6f62(0x14f)](_0x4c6f62(0x189))[_0x4c6f62(0x198)],_0x233f6a=document[_0x4c6f62(0x14f)](_0x4c6f62(0x183))[_0x4c6f62(0x198)],_0x4db30e=document['getElementById'](_0x4c6f62(0x1b0));if(!_0x422d93||!_0x233f6a){_0x4db30e[_0x4c6f62(0x193)]=_0x4c6f62(0x16d),_0x4db30e[_0x4c6f62(0x164)][_0x4c6f62(0x170)]('visible'),logAuthenticationAction(currentUserEmail,_0x4c6f62(0x181));return;}const _0x5d0565={'email':_0x422d93,'password':_0x233f6a},_0x3cdc81=new XMLHttpRequest();_0x3cdc81['open'](_0x4c6f62(0x18b),_0x4c6f62(0x1c2),!![]),_0x3cdc81[_0x4c6f62(0x182)](_0x4c6f62(0x1b6),_0x4c6f62(0x1a7)),_0x3cdc81[_0x4c6f62(0x182)](_0x4c6f62(0x1a5),getCsrfToken()),_0x3cdc81[_0x4c6f62(0x186)]=function(){const _0x3dbf1a=_0x4c6f62;try{const _0x37cfe0=JSON[_0x3dbf1a(0x172)](_0x3cdc81['responseText']);_0x3cdc81[_0x3dbf1a(0x154)]===0xc8?(alert('Logged\x20in\x20successfully.'),currentUserEmail=_0x422d93,console['log'](_0x3dbf1a(0x1a6),currentUserEmail),logAuthenticationAction(currentUserEmail,_0x3dbf1a(0x192)),localStorage['setItem'](_0x3dbf1a(0x14d),currentUserEmail),document[_0x3dbf1a(0x14f)](_0x3dbf1a(0x189))['value']='',document[_0x3dbf1a(0x14f)](_0x3dbf1a(0x183))[_0x3dbf1a(0x198)]='',_0x37cfe0[_0x3dbf1a(0x163)]['includes'](_0x3dbf1a(0x19c))?(logAdminAction(currentUserEmail,'Admin\x20logged\x20in'),window[_0x3dbf1a(0x19a)][_0x3dbf1a(0x1af)]=_0x3dbf1a(0x17f)):window['location'][_0x3dbf1a(0x1af)]=_0x3dbf1a(0x1aa)):(_0x37cfe0[_0x3dbf1a(0x173)]['includes'](_0x3dbf1a(0x15c))&&handleError(_0x3dbf1a(0x15a),new Error(_0x3dbf1a(0x199)),currentUserEmail),_0x4db30e[_0x3dbf1a(0x193)]=_0x37cfe0[_0x3dbf1a(0x173)]||_0x3dbf1a(0x176),_0x4db30e[_0x3dbf1a(0x164)][_0x3dbf1a(0x170)]('visible'),logAuthenticationAction(currentUserEmail,_0x3dbf1a(0x169)+(_0x37cfe0[_0x3dbf1a(0x173)]||_0x3dbf1a(0x15d))));}catch(_0x3497ef){handleError(_0x3dbf1a(0x187),_0x3497ef,currentUserEmail);}};try{_0x3cdc81[_0x4c6f62(0x178)](JSON[_0x4c6f62(0x168)](_0x5d0565));}catch(_0x2fa2ee){handleError(_0x4c6f62(0x19d),_0x2fa2ee,currentUserEmail);}}catch(_0xede0){handleError(_0x4c6f62(0x161),_0xede0,currentUserEmail);}});